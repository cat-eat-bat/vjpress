---
outline: deep
---

# RPC 与 REST

在微服务(或 `SOA`)架构中，服务之间的核心是通信。`RPC`（远程过程调用）和`REST`是两种常见的通信方式，各有优劣，选择哪种方式取决于具体的业务场景和需求。

## RPC
### 特点
- 性能高： 直接调用远程函数，减少了协议开销，性能较好。
- 强类型： 接口定义明确，可以进行静态类型检查，有利于提高代码质量。
- 服务治理： 适用于内部服务之间的调用，可以方便地进行服务发现、负载均衡、容错等。

### 适用场景
- 同构系统： 相同技术栈，团队技术背景一致，对于服务之间的紧耦合调用，`RPC`是一种高效的选择。
- 性能敏感场景： `RPC`的性能优势在高并发场景下尤为明显，适用于 内部服务间频繁通信、低延迟要求高、大量数据传输
- 强类型需求： 需要严格的接口定义、复杂的数据结构、高度的类型安全

## REST
### 特点：
- 简单易懂： 基于`HTTP`协议，使用`HTTP`方法（`GET、POST、PUT、DELETE`）操作资源，易于理解。
- 松耦合： 客户端和服务器之间耦合度低，可以独立演进。
- 跨平台： 几乎所有语言和平台都支持`HTTP`协议。
### 适用场景：
- 对外提供API： 面向外部客户端，需要广泛的平台支持，接口需要自描述，`RESTful API`是构建对外开放的API的标准方式
- 异构系统： 不同技术栈、多团队协作、松耦合架构，`RESTful API`可以方便地与不同的系统进行集成。

## 如何选择
选择`RPC`还是`REST`，需要综合考虑以下因素：

- 系统内部复杂度： 如果系统内部服务之间耦合度高，对性能要求高，可以选择`RPC`。
- 系统外部复杂度： 如果需要对外提供 `API`，或者系统需要与其他异构系统集成，可以选择`REST`。
- 团队技术栈： 团队对`RPC`或`REST`的熟悉程度也会影响选择。
- 未来扩展性： 考虑系统的未来发展，选择一种灵活可扩展的通信方式。

## 总结
- `RPC` 更适合内部服务之间的调用，性能高、耦合度强。
- `REST` 更适合对外提供API，耦合度低、易于理解。

一般来说，在微服务架构中，`RPC`和`REST`可以结合使用：

- 内部服务： 主要使用`RPC`，保证高性能和服务治理。
- 对外`API`： 主要使用`REST`，提供标准化的接口。